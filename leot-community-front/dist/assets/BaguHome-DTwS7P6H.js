import{d as $,r as y,R as H,c as x,G as B,o as e,w as v,f as t,e as s,g as c,i as o,S as w,x as z,z as m,m as I,A as M,_ as T,u as P,a as R,T as U,v as q,U as S,V as C,W as F,X as A,E as L}from"./index-fmth1Foz.js";import{u as W}from"./bagu-CFlVxt4r.js";import{T as X}from"./TechHeader-D3cWMTWR.js";import{G as Y}from"./GlassCard-B7OKtasV.js";import"./question-DUAdpd1i.js";const j={class:"bank-card__cover"},J=["src","alt"],K={key:1,class:"bank-card__placeholder"},O={class:"bank-card__content"},Q={class:"bank-card__title"},Z={key:0,class:"bank-card__desc"},ee={class:"bank-card__footer"},ae={class:"bank-card__count"},te={class:"bank-card__time"},se=$({__name:"BankCard",props:{bank:{}},emits:["click"],setup(a,{emit:g}){const k=a,b=g,l=y(!1);H(()=>k.bank.picture,()=>{l.value=!1});const f=()=>{l.value=!0},p=()=>{b("click",k.bank.id)},i=r=>{if(!r)return"";const n=new Date(r);return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`};return(r,n)=>{const h=x("el-icon");return e(),B(Y,{class:"bank-card",glow:!0,"hover-scale":!0,clickable:!0,padding:"0",onClick:p},{default:v(()=>[t("div",j,[a.bank.picture&&!l.value?(e(),s("img",{key:0,src:a.bank.picture,alt:a.bank.title,class:"bank-card__image",onError:f},null,40,J)):(e(),s("div",K,[c(h,{size:48},{default:v(()=>[c(o(w))]),_:1})])),n[0]||(n[0]=t("div",{class:"bank-card__overlay"},null,-1))]),t("div",O,[t("h3",Q,m(a.bank.title),1),a.bank.description?(e(),s("p",Z,m(a.bank.description),1)):z("",!0),t("div",ee,[t("span",ae,[c(h,null,{default:v(()=>[c(o(M))]),_:1}),I(" "+m(a.bank.questionCount||0)+" 题 ",1)]),t("span",te,m(i(a.bank.createTime)),1)])])]),_:1})}}}),ne=T(se,[["__scopeId","data-v-ca3c761f"]]),oe={class:"tech-page bagu-home"},ce={class:"bagu-home__content"},re={key:0,class:"card-grid"},le={key:1,class:"empty-state"},ie={key:2,class:"card-grid"},de={key:3,class:"bagu-home__pagination"},ue=$({__name:"BaguHome",setup(a){const g=P(),k=W(),b=R(),{banks:l,loading:f,total:p}=U(k),i=y(1),r=y(12);q(()=>{n()});const n=()=>{k.fetchBanks({current:i.value,pageSize:r.value})},h=d=>{i.value=d,n()},D=d=>{g.push({path:"/bagu/search",query:{keyword:d}})},E=d=>{if(!b.token){L.warning("请先登录后查看题库详情"),g.push("/login");return}g.push(`/bagu/bank/${d}`)};return(d,u)=>{const V=x("el-icon"),N=x("el-pagination");return e(),s("div",oe,[c(X,{title:"八股文题库",subtitle:"系统化学习，高效备战面试","show-search":!0,onSearch:D}),t("div",ce,[o(f)?(e(),s("div",re,[(e(),s(S,null,C(8,_=>t("div",{key:_,class:"skeleton-card"},[...u[1]||(u[1]=[F('<div class="skeleton" style="height:140px;" data-v-189dad6e></div><div style="padding:16px;" data-v-189dad6e><div class="skeleton" style="height:24px;margin-bottom:8px;" data-v-189dad6e></div><div class="skeleton" style="height:40px;margin-bottom:12px;" data-v-189dad6e></div><div class="skeleton" style="height:20px;width:60%;" data-v-189dad6e></div></div>',2)])])),64))])):o(l).length===0?(e(),s("div",le,[c(V,{size:64},{default:v(()=>[c(o(w))]),_:1}),u[2]||(u[2]=t("p",null,"暂无题库",-1))])):(e(),s("div",ie,[(e(!0),s(S,null,C(o(l),(_,G)=>(e(),B(ne,{key:_.id,bank:_,class:"animate-fade-in-up",style:A({animationDelay:`${G*.1}s`}),onClick:E},null,8,["bank","style"]))),128))])),o(p)>r.value?(e(),s("div",de,[c(N,{"current-page":i.value,"onUpdate:currentPage":u[0]||(u[0]=_=>i.value=_),"page-size":r.value,total:o(p),layout:"prev, pager, next",background:"",onCurrentChange:h},null,8,["current-page","page-size","total"])])):z("",!0)])])}}}),me=T(ue,[["__scopeId","data-v-189dad6e"]]);export{me as default};
