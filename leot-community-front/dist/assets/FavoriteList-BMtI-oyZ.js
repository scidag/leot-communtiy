import{d as N,u as L,T as P,r as g,v as q,c as m,e as s,o,g as i,f as n,x as D,i as l,U as f,V as h,w as y,C as E,m as I,G as Q,X as R,_ as U}from"./index-fmth1Foz.js";import{u as G}from"./bagu-CFlVxt4r.js";import{T as H}from"./TechHeader-D3cWMTWR.js";import{Q as M}from"./QuestionCard-C4fR_9VW.js";import"./question-DUAdpd1i.js";import"./GlassCard-B7OKtasV.js";const X={class:"tech-page favorite-list"},$={class:"favorite-list__content"},j={key:0,class:"question-list"},A={key:1,class:"empty-state"},J={key:2,class:"question-list"},K={key:3,class:"favorite-list__pagination"},O=N({__name:"FavoriteList",setup(W){const k=L(),r=G(),{favourites:v,loading:x,total:_}=P(r),u=g(1),c=g(10),d=g(null);q(()=>{p()});const p=()=>{r.fetchFavourites({current:u.value,pageSize:c.value})},b=t=>{u.value=t,d.value=null,p()},C=t=>{d.value=d.value===t?null:t},T=t=>{r.toggleThumb(t)},F=t=>{r.toggleFavour(t),setTimeout(()=>{p()},500)},z=()=>{k.push("/bagu")};return(t,e)=>{const B=m("el-icon"),w=m("el-button"),S=m("el-pagination");return o(),s("div",X,[i(H,{title:"我的收藏",subtitle:"收藏的题目，随时复习",animated:!0}),n("div",$,[l(x)?(o(),s("div",j,[(o(),s(f,null,h(5,a=>n("div",{key:a,class:"skeleton-question"},[...e[1]||(e[1]=[n("div",{class:"skeleton",style:{height:"24px",width:"70%","margin-bottom":"12px"}},null,-1),n("div",{class:"skeleton",style:{height:"20px",width:"40%","margin-bottom":"16px"}},null,-1),n("div",{class:"skeleton",style:{height:"20px",width:"30%"}},null,-1)])])),64))])):l(v).length===0?(o(),s("div",A,[i(B,{size:64},{default:y(()=>[i(l(E))]),_:1}),e[3]||(e[3]=n("p",null,"暂无收藏",-1)),e[4]||(e[4]=n("p",{class:"empty-hint"},"去题库看看，收藏感兴趣的题目吧",-1)),i(w,{type:"primary",class:"gradient-btn",onClick:z},{default:y(()=>[...e[2]||(e[2]=[I(" 浏览题库 ",-1)])]),_:1})])):(o(),s("div",J,[(o(!0),s(f,null,h(l(v),(a,V)=>(o(),Q(M,{key:a.id,question:a,expanded:d.value===a.id,class:"animate-fade-in-up",style:R({animationDelay:`${V*.05}s`}),onClick:C,onThumb:T,onFavour:F},null,8,["question","expanded","style"]))),128))])),l(_)>c.value?(o(),s("div",K,[i(S,{"current-page":u.value,"onUpdate:currentPage":e[0]||(e[0]=a=>u.value=a),"page-size":c.value,total:l(_),layout:"prev, pager, next",background:"",onCurrentChange:b},null,8,["current-page","page-size","total"])])):D("",!0)])])}}}),se=U(O,[["__scopeId","data-v-32406378"]]);export{se as default};
