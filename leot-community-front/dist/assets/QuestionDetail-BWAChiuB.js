import{d as N,e as d,o as c,g as e,i as t,_ as F,Y as R,u as V,a as z,T as I,v as M,c as y,f as s,G as Q,I as G,w as n,z as i,m as l,j as U,$ as Y,U as j,V as A,a0 as E,a1 as w,B as x,C as q,a2 as L,a3 as H,x as J,A as C,a4 as K}from"./index-fmth1Foz.js";import{u as O}from"./bagu-CFlVxt4r.js";import{G as P}from"./GlassCard-B7OKtasV.js";import{a as W}from"./index-Dqqn6Lb9.js";import"./question-DUAdpd1i.js";const X={class:"markdown-renderer"},Z="dark",tt="github",et="atom",st="zh-CN",at=N({__name:"MarkdownRenderer",props:{content:{default:""}},setup(f){return(v,r)=>(c(),d("div",X,[e(t(W),{"model-value":f.content,theme:Z,"preview-theme":tt,"code-theme":et,language:st},null,8,["model-value"])]))}}),T=F(at,[["__scopeId","data-v-1c2735de"]]),ot={class:"tech-page question-detail"},nt={class:"question-detail__container"},lt={key:0,class:"question-detail__skeleton"},it={class:"question-detail__header"},ut={class:"gradient-text"},ct={class:"question-detail__meta"},dt={class:"meta-item"},rt={class:"meta-item"},_t={class:"question-detail__tags"},mt={class:"question-detail__stats"},ht={class:"stat-item"},pt={class:"question-detail__actions"},ft={class:"question-detail__content"},vt={class:"content-section"},gt={key:0,class:"content-section"},kt={key:2,class:"empty-state"},bt=N({__name:"QuestionDetail",setup(f){const v=R(),r=V(),_=O(),g=z(),{currentQuestion:a,loading:S}=I(_),h=Number(v.params.id);M(()=>{_.fetchQuestionDetail(h)});const B=()=>{if(!g.token){r.push("/login");return}_.toggleThumb(h)},D=()=>{if(!g.token){r.push("/login");return}_.toggleFavour(h)},k=()=>{r.back()},$=p=>{if(!p)return"";const o=new Date(p);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`};return(p,o)=>{const m=y("el-button"),u=y("el-icon");return c(),d("div",ot,[s("div",nt,[e(m,{class:"question-detail__back",icon:t(G),circle:"",onClick:k},null,8,["icon"]),t(S)?(c(),d("div",lt,[...o[0]||(o[0]=[s("div",{class:"skeleton",style:{height:"40px",width:"80%","margin-bottom":"20px"}},null,-1),s("div",{class:"skeleton",style:{height:"24px",width:"40%","margin-bottom":"30px"}},null,-1),s("div",{class:"skeleton",style:{height:"200px","margin-bottom":"30px"}},null,-1),s("div",{class:"skeleton",style:{height:"200px"}},null,-1)])])):t(a)?(c(),Q(P,{key:1,class:"question-detail__card",glow:!0},{default:n(()=>[s("div",it,[s("h1",ut,i(t(a).title),1),s("div",ct,[s("span",dt,[e(u,null,{default:n(()=>[e(t(U))]),_:1}),l(" "+i(t(a).userName||"匿名"),1)]),s("span",rt,[e(u,null,{default:n(()=>[e(t(Y))]),_:1}),l(" "+i($(t(a).createTime)),1)])])]),s("div",_t,[(c(!0),d(j,null,A(t(a).tags,b=>(c(),d("span",{key:b,class:"tech-tag"},i(b),1))),128))]),s("div",mt,[s("span",ht,[e(u,null,{default:n(()=>[e(t(E))]),_:1}),l(" "+i(t(a).viewNum)+" 浏览 ",1)]),s("span",{class:w(["stat-item",{active:t(a).hasThumb}])},[e(u,null,{default:n(()=>[e(t(x))]),_:1}),l(" "+i(t(a).thumbNum)+" 点赞 ",1)],2),s("span",{class:w(["stat-item",{active:t(a).hasFavour}])},[e(u,null,{default:n(()=>[e(t(q))]),_:1}),l(" "+i(t(a).favourNum)+" 收藏 ",1)],2)]),s("div",pt,[e(m,{type:t(a).hasThumb?"primary":"default",icon:t(a).hasThumb?t(L):t(x),onClick:B},{default:n(()=>[l(i(t(a).hasThumb?"已点赞":"点赞"),1)]),_:1},8,["type","icon"]),e(m,{type:t(a).hasFavour?"warning":"default",icon:t(a).hasFavour?t(H):t(q),onClick:D},{default:n(()=>[l(i(t(a).hasFavour?"已收藏":"收藏"),1)]),_:1},8,["type","icon"])]),s("div",ft,[s("div",vt,[s("h2",null,[e(u,null,{default:n(()=>[e(t(C))]),_:1}),o[1]||(o[1]=l(" 题目内容 ",-1))]),e(T,{content:t(a).content},null,8,["content"])]),t(a).answer?(c(),d("div",gt,[s("h2",null,[e(u,null,{default:n(()=>[e(t(K))]),_:1}),o[2]||(o[2]=l(" 参考答案 ",-1))]),e(T,{content:t(a).answer},null,8,["content"])])):J("",!0)])]),_:1})):(c(),d("div",kt,[e(u,{size:64},{default:n(()=>[e(t(C))]),_:1}),o[4]||(o[4]=s("p",null,"题目不存在或已删除",-1)),e(m,{type:"primary",class:"gradient-btn",onClick:k},{default:n(()=>[...o[3]||(o[3]=[l(" 返回 ",-1)])]),_:1})]))])])}}}),Tt=F(bt,[["__scopeId","data-v-1722b0da"]]);export{Tt as default};
