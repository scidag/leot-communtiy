import{d as N,u as C,r as w,b as R,c as i,e as g,o as f,f as a,g as s,w as r,h as q,i as u,q as z,l as v,k as E,s as U,m as B,n as F,t as K,E as h,_ as M}from"./index-fmth1Foz.js";const $={class:"register-container"},A={class:"register-wrapper"},D={class:"card-header"},I={class:"logo-wrapper"},S={class:"input-wrapper"},T={class:"input-wrapper"},j={class:"input-wrapper"},G={class:"textarea-wrapper"},H={key:0},J={key:1},L={class:"login-link"},O=N({__name:"Register",setup(Q){const b=C(),m=w(),p=w(!1),t=R({userName:"",userPassword:"",checkPassword:"",profile:""}),k={userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],userAccount:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:20,message:"账号长度在 3 到 20 个字符",trigger:"blur"}],userPassword:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(c,e,o)=>{e!==t.userPassword?o(new Error("两次输入密码不一致")):o()},trigger:"blur"}]},_=async()=>{m.value&&await m.value.validate(async c=>{if(c){p.value=!0;try{const{confirmPassword:e,...o}=t;(await K(o)).data&&(h.success("注册成功，请登录"),b.push("/login"))}catch(e){h.error(e.message||"注册失败")}finally{p.value=!1}}})};return(c,e)=>{const o=i("el-icon"),d=i("el-input"),n=i("el-form-item"),y=i("el-button"),V=i("el-link"),P=i("el-form"),x=i("el-card");return f(),g("div",$,[e[9]||(e[9]=a("div",{class:"background-animation"},[a("div",{class:"shape shape-1"}),a("div",{class:"shape shape-2"}),a("div",{class:"shape shape-3"})],-1)),a("div",A,[s(x,{class:"register-card",shadow:"hover"},{header:r(()=>[a("div",D,[a("div",I,[s(o,{size:40,class:"logo-icon"},{default:r(()=>[s(u(F))]),_:1})]),e[5]||(e[5]=a("h2",{class:"title"},"创建账号",-1)),e[6]||(e[6]=a("p",{class:"subtitle"},"加入我们，开始您的旅程",-1))])]),default:r(()=>[s(P,{ref_key:"registerFormRef",ref:m,model:t,rules:k,"label-width":"0",class:"register-form",onSubmit:q(_,["prevent"])},{default:r(()=>[s(n,{prop:"userName"},{default:r(()=>[a("div",S,[s(o,{class:"input-icon"},{default:r(()=>[s(u(z))]),_:1}),s(d,{modelValue:t.userName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userName=l),placeholder:"请输入用户名",clearable:"",size:"large",class:"custom-input"},null,8,["modelValue"])])]),_:1}),s(n,{prop:"userPassword"},{default:r(()=>[a("div",T,[s(o,{class:"input-icon"},{default:r(()=>[s(u(v))]),_:1}),s(d,{modelValue:t.userPassword,"onUpdate:modelValue":e[1]||(e[1]=l=>t.userPassword=l),type:"password",placeholder:"请输入密码","show-password":"",clearable:"",size:"large",class:"custom-input"},null,8,["modelValue"])])]),_:1}),s(n,{prop:"checkPassword"},{default:r(()=>[a("div",j,[s(o,{class:"input-icon"},{default:r(()=>[s(u(v))]),_:1}),s(d,{modelValue:t.checkPassword,"onUpdate:modelValue":e[2]||(e[2]=l=>t.checkPassword=l),type:"password",placeholder:"请再次输入密码","show-password":"",clearable:"",size:"large",class:"custom-input",onKeyup:E(_,["enter"])},null,8,["modelValue"])])]),_:1}),s(n,{prop:"profile"},{default:r(()=>[a("div",G,[s(o,{class:"textarea-icon"},{default:r(()=>[s(u(U))]),_:1}),s(d,{modelValue:t.profile,"onUpdate:modelValue":e[3]||(e[3]=l=>t.profile=l),type:"textarea",rows:3,placeholder:"请输入个人简介（可选）",maxlength:"200","show-word-limit":"",class:"custom-textarea"},null,8,["modelValue"])])]),_:1}),s(n,null,{default:r(()=>[s(y,{type:"primary",loading:p.value,onClick:_,class:"register-button",size:"large"},{default:r(()=>[p.value?(f(),g("span",J,"注册中...")):(f(),g("span",H,"注册"))]),_:1},8,["loading"])]),_:1}),s(n,null,{default:r(()=>[a("div",L,[e[8]||(e[8]=a("span",{class:"link-text"},"已有账号？",-1)),s(V,{type:"primary",class:"link-button",onClick:e[4]||(e[4]=l=>c.$router.push("/login"))},{default:r(()=>[...e[7]||(e[7]=[B(" 立即登录 ",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),_:1})])])}}}),Y=M(O,[["__scopeId","data-v-23a54e30"]]);export{Y as default};
